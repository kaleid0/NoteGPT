<!--
SYNC IMPACT REPORT
- 版本更改: NONE → 0.1.0
- 修改的原则: 添加: "用户友好交互体验"; 添加: "实时、流畅的交互"
- 添加的部分: 将 "附加约束与性能要求"、"开发工作流程与质量门禁" 明确化
- 删除的部分: 无
- 需要更新的模板:
  - ✅ `.specify/templates/plan-template.md` (已更新: 章程检查 -> 包含可用性/实时性验证)
  - ✅ `.specify/templates/spec-template.md` (已更新: 成功标准与需求 -> 包含交互/延迟条目)
  - ✅ `.specify/templates/tasks-template.md` (已更新: 任务 -> 包含可用性测试/性能/监控任务)
  - ⚠️ `.specify/templates/commands/*.md` (未找到 - 需要创建或确认)
- 延迟占位符/TODO:
  - RATIFICATION_DATE: TODO(RATIFICATION_DATE): 初始批准日期未知
-->

# NoteGPT 项目章程

## 核心原则

### 用户友好交互体验

- 规则: 所有用户交互必须以 "低认知负荷" 为目标：界面与 API 的默认行为应当直观、可预测且提供明确、可操作的错误信息。交互文案必须清晰、可本地化并包含必要的上下文帮助。可访问性（a11y）基础（例如键盘导航、对比度、屏幕阅读器支持）必须得到验证。
- 测量与验证: 所有 P1 用户故事必须包含可执行的可用性验收场景与衡量指标（例如任务完成率、SUS 或用例成功率）。必须在发布前通过可用性评估或小规模真人测试。
- 理由: 良好的可用性减少支持成本并提升留存，是高质量交付的关键非功能要求。

### 实时、流畅的交互

- 规则: 面向实时交互的路径必须支持渐进式反馈（例如占位、加载指示）与流式/分块响应以避免阻塞用户体验。关键交互的延迟应有明确预算（p95/目标延迟为项目级别可配置值），并在性能门禁中强制检查。
- 可用性与容错: 对高延迟或部分失败的场景必须提供降级路径（例如缓存、简化功能、明确的错误和重试建议）。
- 测量与验证: 必须对交互延迟、吞吐和错误率设置监控并建立告警阈值；性能回归需在 CI 中检测。
- 理由: 交互流畅性直接影响用户感知质量与效率，需在设计期和实现期持续验证。

### 测试优先 (不可协商)

- 规则: 对于任何新增功能, 必须先编写可失败的测试（单元、集成或契约测试），然后实现以通过测试。测试包括性能/可用性验收测试（当适用）。
- 理由: 测试优先能确保可回归性与长期维护成本可控, 是保证可预测交付的核心实践。

### 集成与契约测试

- 规则: 服务间接口、外部契约与数据模型变更必须伴随契约测试。契约变更须提前公告并提供迁移指南。
- 理由: 契约测试降低跨团队集成风险并保证接口演进的可管理性。

### 可观测性、版本控制与简单性

- 规则: 所有关键路径必须暴露结构化日志、延迟/错误/吞吐度量，并在监控/追踪系统中可视化。版本控制遵循语义化版本控制(semver)，并对破坏性变更强制审查与迁移计划。设计上优先简单（YAGNI）原则, 避免过度工程。
- 理由: 可观测性是运行时可靠性与快速调试的基础; 简单性降低长期维护成本。

## 附加约束与性能要求

- 性能目标: 关键交互的延迟预算由具体项目设定 (TODO: 指定 p95 延迟阈值, 示例: 200ms/500ms)。必须为显著延迟或高吞吐路径定义明确目标并写入相应 spec。
- 可访问性: 每个面向用户的界面/API 必须包含基本 a11y 验证并在 quickstart 或 docs 中记录。
- 安全与合规: 敏感数据处理须满足适用法律/合规要求, 数据保留策略应在设计阶段确定并记录。
- 部署与可用性: 服务应定义可接受的可用性目标 (SLA/SLO), 并将其纳入部署与监控计划。

## 开发工作流程与质量门禁

- 代码审查: 所有变更必须通过代码审查。对于重大/破坏性变更, 需要至少两位审阅者通过并附带迁移计划。
- 测试门禁: PR 必须包含相关测试并确保 CI 未回归，性能敏感改动需包含基准/回归检测。
- 发布流程: 小步骤、增量发布; 对破坏性/兼容性变更使用 Canary 或阶段性发布策略。
- 文档: 所有用户可见的更改需在 quickstart/README 更新并包含用户可复现的验收示例。

## 治理

- 修订流程: 任何章程修正通过提交 PR 的方式提出，PR 需:
  1. 在描述中明确修订理由与影响范围。
  2. 包含需要更新的迁移步骤或兼容性注意事项（如适用）。
  3. 至少两位维护者审批。对于破坏性变更 (MAJOR), 需书面迁移计划并提前公告。
- 版本策略: 使用语义化版本控制 (MAJOR.MINOR.PATCH)。
  - MAJOR: 删除或重新定义不可兼容的治理或原则。
  - MINOR: 添加新原则或实质性扩展指导。
  - PATCH: 文案、措辞或小幅澄清/修正。
  版本号变更需在章程文件顶部的同步影响报告中记录旧版→新版。
- 合规审查: 每个季度或在重大变更后进行一次合规性/章程一致性审查, 并在审查后更新章程或相关模板。

**版本**: 0.1.0 | **批准日期**: TODO(RATIFICATION_DATE): 初始采纳日期需确认 | **最后修正**: 2026-01-12
