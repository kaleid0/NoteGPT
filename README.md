# NoteGPT ğŸ“âœ¨

**NoteGPT** æ˜¯ä¸€æ¬¾é›†æˆ AI è¾…åŠ©å†™ä½œåŠŸèƒ½çš„ç°ä»£ç¬”è®°åº”ç”¨ã€‚æ”¯æŒå¤šç§ LLM æä¾›å•†ï¼Œé‡‡ç”¨æµå¼è¾“å‡ºæŠ€æœ¯ï¼Œæä¾›æµç•…çš„ AI å†™ä½œä½“éªŒã€‚

![Version](https://img.shields.io/badge/version-0.1.0-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Node](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“’ ç¬”è®°ç®¡ç†

- **å®Œæ•´çš„ CRUD æ“ä½œ** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç¬”è®°
- **æœ¬åœ°ä¼˜å…ˆ** - ä½¿ç”¨ IndexedDB æœ¬åœ°å­˜å‚¨ï¼Œæ— éœ€æ³¨å†Œè´¦å·
- **è‡ªåŠ¨ä¿å­˜** - ç¼–è¾‘æ—¶è‡ªåŠ¨ä¿å­˜ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±
- **å®æ—¶åŒæ­¥** - WebSocket æ”¯æŒå¤šè®¾å¤‡å®æ—¶åä½œ

### ğŸ¤– AI è¾…åŠ©å†™ä½œ

- **æµå¼è¾“å‡º** - ä½¿ç”¨ Server-Sent Events (SSE) å®ç°ï¼Œé¦–å­—ç¬¦å»¶è¿Ÿä»… ~170ms
- **æ™ºèƒ½é€‰æ‹©** - æ”¯æŒé€‰ä¸­æ–‡æœ¬æˆ–å…¨æ–‡çš„ AI æ”¹è¿›
- **å¤šæä¾›å•†æ”¯æŒ**:
  - OpenAI
  - DeepSeek
  - ç™¾ç‚¼
  - è‡ªå®šä¹‰æä¾›å•†

### âš™ï¸ é«˜åº¦å¯é…ç½®

- **è‡ªå®šä¹‰ Prompt æ¨¡æ¿** - æ”¯æŒ `{{input}}` å ä½ç¬¦
- **æœ¬åœ°æŒä¹…åŒ–** - é…ç½®ä¿å­˜åœ¨ localStorage
- **é¢„è®¾æ¨¡æ¿åº“** - å¼€ç®±å³ç”¨çš„å¸¸ç”¨æ¨¡æ¿

### ğŸ“± å“åº”å¼è®¾è®¡

- ç§»åŠ¨è®¾å¤‡ (iPhone 12: 375px)
- å¹³æ¿è®¾å¤‡ (iPad: 768px)  
- æ¡Œé¢è®¾å¤‡ (1366px+)

### â™¿ å¯è®¿é—®æ€§

- ARIA æ ‡ç­¾å’Œè§’è‰²
- å®Œæ•´çš„é”®ç›˜å¯¼èˆªæ”¯æŒ
- å±å¹•é˜…è¯»å™¨å…¼å®¹
- axe å¯è®¿é—®æ€§å¾—åˆ† 100/100

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Node.js** >= 18.0.0
- **npm** æˆ– **pnpm**

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/kaleid0/NoteGPT.git
cd NoteGPT

# å®‰è£…ä¾èµ–
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

éœ€è¦åŒæ—¶å¯åŠ¨å‰ç«¯å’Œåç«¯æœåŠ¡ï¼š

```bash
# ç»ˆç«¯ 1: å¯åŠ¨åç«¯æœåŠ¡ (ç«¯å£ 4000)
cd server
npm run dev

# ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯æœåŠ¡ (é»˜è®¤ç«¯å£ 3000)
cd client
npm run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å¼€å§‹ä½¿ç”¨ã€‚

### ç”Ÿäº§æ„å»º

```bash
# æ„å»ºå‰ç«¯
cd client
npm run build

# æ„å»ºåç«¯
cd server
npm run build
npm start
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
NoteGPT/
â”œâ”€â”€ client/                 # å‰ç«¯ React åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/     # UI ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AIButton/   # AI è§¦å‘æŒ‰é’®
â”‚   â”‚   â”‚   â”œâ”€â”€ AIStreamModal/  # AI æµå¼è¾“å‡ºå¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteEditor/ # ç¬”è®°ç¼–è¾‘å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ NoteList/   # ç¬”è®°åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ Settings/   # è®¾ç½®é¡µé¢
â”‚   â”‚   â”œâ”€â”€ context/        # React Context
â”‚   â”‚   â”œâ”€â”€ hooks/          # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ lib/            # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/         # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ styles/         # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ ui/             # åŸºç¡€ UI ç»„ä»¶
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/                 # åç«¯ Fastify æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ middleware/     # ä¸­é—´ä»¶ (auth, rate_limit)
â”‚   â”‚   â”œâ”€â”€ routes/         # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ generate.ts # AI ç”Ÿæˆæ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ sync.ts     # åŒæ­¥æ¥å£
â”‚   â”‚   â”œâ”€â”€ services/       # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts        # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ shared/                 # å…±äº«ä»£ç 
â”‚   â””â”€â”€ sync-protocol.ts    # åŒæ­¥åè®®å®šä¹‰
â”‚
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ e2e/                # E2E æµ‹è¯• (Playwright)
â”‚   â”œâ”€â”€ integration/        # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ unit/               # å•å…ƒæµ‹è¯• (Vitest)
â”‚
â””â”€â”€ package.json            # æ ¹é…ç½® (workspaces)
```

---

## ğŸ”§ é…ç½®

### LLM é…ç½®

åœ¨åº”ç”¨çš„ **è®¾ç½®** é¡µé¢ä¸­é…ç½® AI æœåŠ¡ï¼š

| é…ç½®é¡¹ | è¯´æ˜ |
|--------|------|
| Provider | LLM æä¾›å•† (openai/deepseek/bailian/custom) |
| API Key | æœåŠ¡å•† API å¯†é’¥ |
| Base URL | API åŸºç¡€åœ°å€ (å¯é€‰) |
| Model | æ¨¡å‹åç§° |
| Prompt Template | è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿ |

**Prompt æ¨¡æ¿ç¤ºä¾‹**ï¼š

```
è¯·å¸®æˆ‘æ”¹è¿›ä»¥ä¸‹æ–‡æœ¬ï¼Œä½¿å…¶æ›´åŠ ä¸“ä¸šå’Œæ˜“è¯»ï¼š

{{input}}
```

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶è¿›è¡Œé…ç½®ï¼ˆå¯é€‰ï¼‰ï¼š

```env
# æœåŠ¡ç«¯å£
PORT=4000

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info
```

### å®‰å…¨è¯´æ˜

**API Key ç®¡ç†**

- å‰ç«¯ localStorage å­˜å‚¨ï¼ˆæ¼”ç¤ºç”¨ï¼‰
- **ç”Ÿäº§å»ºè®®**: ä½¿ç”¨åç«¯ä»£ç†å’Œ vault å­˜å‚¨

**è®¿é—®æ§åˆ¶**

- å®ç°äº†åŸºæœ¬çš„ token è®¤è¯
- å®ç°äº†é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œ E2E æµ‹è¯•
npm run test:e2e

# åœ¨ server ç›®å½•è¿è¡Œæµ‹è¯•
cd server && npm test
```

### æµ‹è¯•è¦†ç›–

| æµ‹è¯•ç±»å‹ | çŠ¶æ€ |
|----------|------|
| å•å…ƒæµ‹è¯• | âœ… å®Œæ•´è¦†ç›– |
| é›†æˆæµ‹è¯• | âœ… åç«¯ SSE å’Œ LLM é€‚é… |
| E2E æµ‹è¯• | âœ… 21/21 é€šè¿‡ |
| å¯è®¿é—®æ€§æµ‹è¯• | âœ… 100/100 |

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | å€¼ |
|------|-----|
| AI é¦–å­—ç¬¦å»¶è¿Ÿ (p95) | ~170ms |
| æ€»æµå¼æ—¶é—´ | ~320ms |
| ååé‡ | ~36-37 å­—ç¬¦/ç§’ |
| é¡µé¢åŠ è½½æ—¶é—´ | <1s |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯

- **React 18** - UI æ¡†æ¶
- **TypeScript 5** - ç±»å‹å®‰å…¨
- **Vite 5** - æ„å»ºå·¥å…·
- **Zustand** - çŠ¶æ€ç®¡ç†
- **React Router 7** - è·¯ç”±ç®¡ç†
- **IndexedDB (idb)** - æœ¬åœ°å­˜å‚¨
- **CSS Modules** - æ ·å¼éš”ç¦»

### åç«¯

- **Fastify** - Web æ¡†æ¶
- **WebSocket** - å®æ—¶é€šä¿¡
- **Better-SQLite3** - æ•°æ®åº“
- **ts-node-dev** - å¼€å‘æœåŠ¡å™¨

### æµ‹è¯•

- **Vitest** - å•å…ƒæµ‹è¯•
- **Playwright** - E2E æµ‹è¯•
- **Testing Library** - React ç»„ä»¶æµ‹è¯•
- **axe-core** - å¯è®¿é—®æ€§æµ‹è¯•

---

## ğŸ“ API æ¥å£

### AI ç”Ÿæˆ

```http
POST /v1/generate
Content-Type: application/json

{
  "input": "è¦æ”¹è¿›çš„æ–‡æœ¬",
  "config": {
    "provider": "openai",
    "apiKey": "sk-xxx",
    "model": "gpt-3.5-turbo"
  }
}
```

å“åº”: Server-Sent Events (SSE) æµ

### åŒæ­¥

```http
WebSocket /v1/sync?token=xxx
```

æ”¯æŒå®æ—¶ç¬”è®°åŒæ­¥å’Œåä½œç¼–è¾‘ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ª TypeScript ä¸¥æ ¼æ¨¡å¼
- ä½¿ç”¨ ESLint + Prettier æ ¼å¼åŒ–ä»£ç 
- æ–°åŠŸèƒ½éœ€è¦æ·»åŠ æµ‹è¯•
- ä¿æŒå¯è®¿é—®æ€§æ ‡å‡†

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚
